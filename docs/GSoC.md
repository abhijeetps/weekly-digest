# GSoC Final Report

This GSoC, I worked with organisation Probot, which delivers a framework that is used to build applications for GitHub.

Here, I developed Weekly Digest application for GitHub, which generates a weekly automated summary of activity on your GitHub repository.

## The Problem

GitHub is a very popular web-based hosting service for version control using Git. 

As per the statistics provided in the [GitHub Octoverse 2017](https://octoverse.github.com/), there are 24 million total users, 1.5 million total organisations and 67 million total repositories on GitHub.

Itâ€™s a huge count of the number of users and organisations. 

There have been 1.0 billion commits in last year, along with 25.3 million active repositories, 12.5 million active issues and 47 million public and private pull requests merged.

Also, since September 2016, around 6.7 million developers have joined Github, 451 thousand new organisations have been created with around 1.2 million people making their first pull request and 191 thousand people staring or forking a repository without pushing code.

These figures are really huge and we can conclude that GitHub has been an alternative to the word Open Source. We can also conclude from the above data that a lot of activities happen on GitHub.

Many of these activities, which are really significant to the users contributing in the organisation or a repository goes unnoticed and currently, there is no way by which maintainers can generate a report and summarize details of the numbers of public commits, active issues, pull requests or comments on issues and other useful data.

There are many organisations which generate a weekly report of all the events occurring in their organisations. However, their weekly reports or weekly digests are manually generated or are generated by external bots, and these bots are only organisation depended and they need to be configured per organisation or per-repository basis. Also, these external bots are not First Actors in GitHub.

It can be seen that users or organisations are highly interested in maintaining a weekly digest for their repository, however, due to the lack of an application, which does this task, they have to do it manually or using some external application.

## The Solution

To solve this problem, I developed Weekly Digest app based on Probot Framework which generates a weekly automated summary of activity on your GitHub repository.

Th app listens to [Github Webhook Events](https://developer.github.com/webhooks/#events) like `installation.created` and `installation_repositories`, and also to `schedule.repository` which are the GitHub events that trigger the application.

The bot then reads configuration of the application (if it's available) and checks the details that it has to publish using [probot-config](https://www.npmjs.com/package/probot-config).

Then the application gets details like issues, pull requests, commits, contributors, stargazers and releases for the repositories (Using [Octokit REST APIs](https://octokit.github.io/rest.js/)) and adds [GitHub Markdown](https://guides.github.com/features/mastering-markdown/) to it.

Finally the application publishes the fetched details an issue and adds weekly-digest label to it. This is repeated everyweek, by default on Sunday.

### So, what the app does?

When the Weekly Digest App gets installed in a repository of a user or organization, it curates together the following data and publishes it as an issue:

- Issues created in the last one week
  - Open Issues
  - Closed Issues
  - Noisy Issue
  - Liked Issue
- Pull requests opened, updated, or merged in the last pull request
  - Opened Pull Requests
  - Updated Pull Requests
  - Merged Pull Requests
- Commits made in the master branch, in the last week
- Contributors, adding contributions in the last week
- Stargazers, or the fans of your repositories, who really loved your repo
- Releases, of the project you are working on

The app, as the name suggests, generates these digests and publishes it on weekly basis, typically on a Sunday. 

One can change the default configuration of the app by adding a _.github/weekly-digest.yml_ file in their GitHub repository, which allows them to configure the publish day and the specific information included in the digest.

## What I learnt?
  - Developing GitHub apps
  - Using GitHub v3 APIs
  - Using Octokit REST APIs
  - Adding Tests using Jest
  - Developing app triggered by webhooks
 
## What could be done more?
  - Publishing weekly digests of Orgs and Users in a single public repository
  - Autoclosing old and stale issues labeled _weekly-digest_
  - Adding more features and activities that could be published in the Weekly Digest
  
## Useful Links
  - App URL: [Github Apps - Weekly Digest](https://github.com/apps/weekly-digest)
  - Project URL: [probot/weekly-digest](https://github.com/probot/weekly-digest)
  - Weekly Digest App on Probot: [Weekly Digest | Probot](https://probot.github.io/apps/weekly-digest/)
  - [README.md](https://github.com/probot/weekly-digest/blob/master/README.md)
  - [My Commits](https://github.com/probot/weekly-digest/commits/master) **Note: I have changed my username from aps120797 to abhijeetps. Commits made by the user "aps120797" and "Abhijeet Singh" are made by me only**
